# 엔티티
우리는 엔티티를 어떻게 알고있는가? JPA의 @Entity?
~~~
실제 도메인 모델의 엔티티와 DB관계형 모델의 엔티티는 같지 않다.
~~~

## 오해하기 쉬운 엔티티
1. 도메인 엔티티
2. DB 엔티티
3. JPA 엔티티

### 1. 도메인 엔티티
도메인 ? -> 비즈니스 영역
~~~
ex. 은행(비즈니스 영역)

Account, Transaction, Money -> 도메인 모델 : 도메인 문제를 해결하고자 만들어진 클래스 모델
- 이 중 Account, Transaction은 조금 다르다. (식별자, 비즈니스 로직, 생애주기...)
=> 도메인 엔티티
~~~
1. 식별 가능한 식별자
2. 비즈니스 로직

<i>소프트웨어 : 엔티티를 개발한다. -> 도메인 엔티티를 만든다.</i>

### 2. DB 엔티티
관계형 데이터베이스에서 <b>유무형의 객체</b>를 표현하는데 사용하는 용어

### 3. JPA 엔티티
관계형 DB에 있는 데이터를 객체로 매핑하는 데 사용되는 클래스
- 도메인 엔티티 보다 DB엔티티에 더 가까움.
~~~
소프트웨어 개발에서 말하는 엔티티 => 도메인 엔티티
- 엔티티를 JPA엔티티로 인식하면 관계형 DB에 종속되는 프로그램을 만들 확률이 높다.
~~~

## 해석
최초 프로그래밍 & DB 연구 : '어떤 유무형의 자산을 데이터로 어떻게 표현할 것인가?'

유무형의 자산 정보 -> 개체(Entity)
- 객체 지향(클래스) : 온전한 객체와 객체들과의 협력을 추구
- DB(테이블) : 데이터 정합성, 중복 제거
=> 고민이 비슷해서 생김새가 비슷하고, 목적이 다르니 해결책이 다른 것
    - 멤버변수 vs 칼럼, 클래스 vs 테이블

실세계의 서비스를 만들어야 하는 상황 : 양쪽을 그대로 1:1 매핑은 무리

-> MyBatis같은 라이브러리

-> ORM이 등장
- ORM : 관계형 데이터베이스에 있는 데이터를 객체에 매핑

### JPA엔티티란?
1. JPA의 엔티티 : 관계형 DB의 엔티티
2. JPA의 @Entity가 적용된 객체 : 영속성 객체(PO:persistent Object)
3. JPA의 @Entity : 영속성 객체를 만들기 위한 도구

-> JPA엔티티 : 영속성 객체를 만들기 위한 도구
- 영속성 객체(PO) : DB연동 추상화, 데이터 액세스 담당 -> 비즈니스 로직, 영속성 로직 분리

소프트 웨어의 엔티티 : 도메인 엔티티 != DB 엔티티

~> 그럼, 관계형 DB를 사용하지 않는 도큐먼트 DB를 사용하는 App은 엔티티가 존재 x? (X)

<i>엔티티는 절대 DB와 직접적으로 관계가 있는 개념x, 그 자체로 이해해야 하는 개념</i>
~~~
종속을 피해 개발 할 수 있을 때, 애플리케이션은 외부 세계의 변화에 유연해지고, 항상성을 유지할 힘을 갖게 된다.
~~~